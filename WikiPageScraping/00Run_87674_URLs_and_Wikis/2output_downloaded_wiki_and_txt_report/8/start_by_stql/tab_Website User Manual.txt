[<div class="wiki-body gollum-markdown-content instapaper_body" id="wiki-body">
        <div class="markdown-body">
          <h1>
<a aria-hidden="true" class="anchor" href="#table-of-contents" id="user-content-table-of-contents"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Table of Contents</h1>
<p><a href="#user-account">User account</a></p>
<ul>
<li><a href="#registration">Registration</a></li>
</ul>
<p><a href="#query">Query</a></p>
<ul>
<li><a href="#for-all-users">For all users</a></li>
<li><a href="#input-a-query">Input a query</a></li>
<li><a href="#view-and-download-query-results">View and Download query results</a></li>
<li><a href="#load-a-query-shared-by-other-users">Load a query shared by other users</a></li>
<li><a href="#only-for-logged-in-users">Only for logged in users</a></li>
<li><a href="#rerun-a-query">Rerun a query</a></li>
<li>
<a href="#share-and-unshare-a-query">Share and Unshare a query</a>
<ul>
<li><a href="#share">Share</a></li>
<li><a href="#unshare">Unshare</a></li>
</ul>
</li>
</ul>
<p><a href="#query">Tracks</a></p>
<ul>
<li><a href="#for-all-users">For all users</a></li>
<li><a href="#insert-the-name-of-a-track">Insert the name of a track</a></li>
<li><a href="#search-for-a-track">Search for a track</a></li>
<li><a href="#only-for-logged-in-users">Only for logged in users</a></li>
<li><a href="#upload-private-tracks">Upload private tracks</a></li>
<li><a href="#use-private-tracks">Use private tracks</a></li>
<li><a href="#manage-private-tracks">Manage private tracks</a></li>
</ul>
<p><a href="#stql">STQL</a></p>
<ul>
<li><a href="#language-specification">Language specification</a></li>
<li>
<a href="#sample-queries">Sample Queries</a>
<ul>
<li>
<a href="#simple-queries">Simple queries</a>
<ul>
<li><a href="#1-compute-total-signal-at-each-bin-across-the-whole-genome">1. Compute total signal at each bin across the whole genome</a></li>
<li><a href="#2-compute-average-signal-along-each-annotated-gene">2. Compute average signal along each annotated gene</a></li>
<li><a href="#3-find-genomic-locations-commonly-covered-by-regions-in-two-signal-tracks">3. Find genomic locations commonly covered by regions in two signal tracks</a></li>
<li><a href="#4-exclude-signals-from-selected-genes">4. Exclude signals from selected genes</a></li>
<li><a href="#5-form-contiguous-regions-with-strong-signal-values">5. Form contiguous regions with strong signal values</a></li>
<li><a href="#6-identify-pairs-of-overlapping-regions-from-two-signal-tracks">6. Identify pairs of overlapping regions from two signal tracks</a></li>
<li><a href="#7-select-annotated-genes-longer-than-a-given-length">7. Select annotated genes longer than a given length</a></li>
<li><a href="#8-count-the-number-of-non-protein-coding-genes">8. Count the number of non-protein-coding genes</a></li>
</ul>
</li>
<li>
<a href="#composite-queries">Composite queries</a>
<ul>
<li><a href="#1-count-the-number-of-signal-tracks-that-cover-each-genomic-location">1. Count the number of signal tracks that cover each genomic location</a></li>
<li><a href="#2-identify-gene-distal-regulatory-regions">2. Identify gene-distal regulatory regions</a></li>
<li><a href="#3-identify-intergenic-regions-with-active-transcription-factor-binding">3. Identify intergenic regions with active transcription factor binding</a></li>
<li><a href="#4-identify-extensive-regions-with-strong-h3k27ac-signals-as-potential-super-enhancers">4. Identify extensive regions with strong H3K27ac signals as potential super enhancers</a></li>
<li><a href="#5-identify-promoters-with-differential-protein-binding-after-adjusting-for-background-signals">5. Identify promoters with differential protein binding, after adjusting for background signals</a></li>
<li><a href="#6-use-bi-directional-transcription-signals-to-detect-potential-enhancer-rnas">6. Use bi-directional transcription signals to detect potential enhancer RNAs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a href="#comparison-with-other-tools">Comparison with other tools</a></p>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#machine-configuration">Machine configuration</a></li>
<li><a href="#the-comparison-table">The comparison table</a></li>
<li><a href="#source-code-for-other-tools">Source code for other tools</a></li>
</ul>
<h1>
<a aria-hidden="true" class="anchor" href="#user-account" id="user-content-user-account"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>User account</h1>
<h2>
<a aria-hidden="true" class="anchor" href="#registration" id="user-content-registration"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Registration</h2>
<p>If you only want to use our pre-loaded data to do the analysis, you don't need to register, however, if you want to</p>
<ul>
<li>manage your query histories</li>
<li>upload your own track files for analysis</li>
</ul>
<p>you need to <a href="http://stql.cs.hku.hk:9999/stql/users/sign_up" rel="nofollow">register</a> an account first.</p>
<h1>
<a aria-hidden="true" class="anchor" href="#query" id="user-content-query"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Query</h1>
<h2>
<a aria-hidden="true" class="anchor" href="#for-all-users" id="user-content-for-all-users"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>For all users</h2>
<h3>
<a aria-hidden="true" class="anchor" href="#input-a-query" id="user-content-input-a-query"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Input a Query</h3>
<p>In the input box, type your STQL query, give it a name(<em><strong>must</strong></em>), then click <strong>Submit</strong>.</p>
<h3>
<a aria-hidden="true" class="anchor" href="#view-and-download-query-results" id="user-content-view-and-download-query-results"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>View and Download query results</h3>
<p>After inputting the query, wait until it finished, on the result page, there are <strong>Preview</strong>, <strong>Plain text</strong> links.</p>
<ul>
<li>
<strong>Preview</strong>: Only displays partial result</li>
<li>
<strong>Plain text</strong>: Download the total result by clicking it</li>
</ul>
<h3>
<a aria-hidden="true" class="anchor" href="#load-a-query-shared-by-other-users" id="user-content-load-a-query-shared-by-other-users"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Load a query shared by other users</h3>
<p>If you received an URL sent by other user in your email, just access it directly.</p>
<h2>
<a aria-hidden="true" class="anchor" href="#only-for-logged-in-users" id="user-content-only-for-logged-in-users"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Only for logged in users</h2>
<h3>
<a aria-hidden="true" class="anchor" href="#rerun-a-query" id="user-content-rerun-a-query"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Rerun a query</h3>
<p>On <code>My Queries</code> page, find the past query you want to rerun, first click the green icon to expand query item, then click the link near the <strong>Token:</strong>.</p>
<h3>
<a aria-hidden="true" class="anchor" href="#share-and-unshare-a-query" id="user-content-share-and-unshare-a-query"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Share and Unshare a query</h3>
<h4>
<a aria-hidden="true" class="anchor" href="#share" id="user-content-share"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Share</h4>
<p>On <strong>My Queries</strong> page, there is a column called <strong>Shared</strong>. The defalt value is <code>False</code>, click it, the value will turn to <code>True</code>, then click the token next to it, you will be redirected into a new page with the query already prepared. You can send the URL of the new page to other people, they can access it directly without login.</p>
<h4>
<a aria-hidden="true" class="anchor" href="#unshare" id="user-content-unshare"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Unshare</h4>
<p>If you want to cancel the sharing later, just click <code>True</code>, it will become <code>False</code>, you cancelled sharing this query, if other people still use the previous URL to access it, the web page will display <code>Invalid token</code>.</p>
<h1>
<a aria-hidden="true" class="anchor" href="#tracks" id="user-content-tracks"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Tracks</h1>
<h2>
<a aria-hidden="true" class="anchor" href="#for-all-users-1" id="user-content-for-all-users-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>For all users</h2>
<h3>
<a aria-hidden="true" class="anchor" href="#insert-the-name-of-a-track" id="user-content-insert-the-name-of-a-track"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Insert the name of a track</h3>
<p>We provide a convenient way to input the long track name.<br/>
Suppose we want to issue a query on the track <code>snp135Common</code> under <code>dbSNP</code>, we can first input the query</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> T <span class="pl-k">limit</span> <span class="pl-c1">10</span>;</pre></div>
<p>into the text box.
Now we put the cursor next to the character <strong>T</strong>, delete it. We then click <code>dbSNP</code> from left side, many tracks are displayed below the text-box. We then type <code>135com</code> in the search box, there will be only one track listed, click it, it will be inserted in the query automatically. Now the query is:</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span>  <span class="pl-s"><span class="pl-pds">`</span>snp<span class="pl-pds">`</span></span>.<span class="pl-s"><span class="pl-pds">`</span>snp135Common<span class="pl-pds">`</span></span>  <span class="pl-k">limit</span> <span class="pl-c1">10</span>;</pre></div>
<p><code>snp</code> is the internal name of <code>dbSNP</code>, and in the following sample queries, we only give the internal category and track name. For convenience, we provide a mapping table to show the relation between displayed and internal name.</p>
<table>
<thead>
<tr>
<th align="center">Displayed Name</th>
<th align="center">Internal Name</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">dbSNP</td>
<td align="center">snp</td>
</tr>
<tr>
<td align="center">Conservation</td>
<td align="center">conservation</td>
</tr>
<tr>
<td align="center">Roadmap Epigenomics</td>
<td align="center">roadmap</td>
</tr>
<tr>
<td align="center">Fantom 5 Expression data</td>
<td align="center">fantom_five</td>
</tr>
<tr>
<td align="center">Affy RNA Loc</td>
<td align="center">wgEncodeAffyRnaChip</td>
</tr>
<tr>
<td align="center">Broad Histone</td>
<td align="center">wgEncodeBroadHistone</td>
</tr>
<tr>
<td align="center">Broad ChromHMM</td>
<td align="center">wgEncodeBroadHmm</td>
</tr>
<tr>
<td align="center">CSHL Long RNA-seq</td>
<td align="center">wgEncodeCshlLongRnaSeq</td>
</tr>
<tr>
<td align="center">CSHL Sm RNA-seq</td>
<td align="center">wgEncodeCshlShortRnaSeq</td>
</tr>
<tr>
<td align="center">Duke Affy Exon</td>
<td align="center">wgEncodeDukeAffyExon</td>
</tr>
<tr>
<td align="center">GENCODE Genes</td>
<td align="center">wgEncodeGencode</td>
</tr>
<tr>
<td align="center">GIS ChIA-PET</td>
<td align="center">wgEncodeGisChiaPet</td>
</tr>
<tr>
<td align="center">GIS RNA PET</td>
<td align="center">wgEncodeGisRnaPet</td>
</tr>
<tr>
<td align="center">GIS RNA-seq</td>
<td align="center">wgEncodeGisRnaSeq</td>
</tr>
<tr>
<td align="center">HAIB RNA-seq</td>
<td align="center">wgEncodeHaibRnaSeq</td>
</tr>
<tr>
<td align="center">HAIB TFBS</td>
<td align="center">wgEncodeHaibTfbs</td>
</tr>
<tr>
<td align="center">UTA TFBS</td>
<td align="center">wgEncodeOpenChromChip</td>
</tr>
<tr>
<td align="center">Duke DNaseI HS</td>
<td align="center">wgEncodeOpenChromDnase</td>
</tr>
<tr>
<td align="center">UNC FAIRE</td>
<td align="center">wgEncodeOpenChromFaire</td>
</tr>
<tr>
<td align="center">Open Chrom Synth</td>
<td align="center">wgEncodeOpenChromSynth</td>
</tr>
<tr>
<td align="center">RIKEN CAGE Loc</td>
<td align="center">wgEncodeRikenCage</td>
</tr>
<tr>
<td align="center">SUNY RIP-seq</td>
<td align="center">wgEncodeSunyRipSeq</td>
</tr>
<tr>
<td align="center">SYDH Histone</td>
<td align="center">wgEncodeSydhHistone</td>
</tr>
<tr>
<td align="center">Stanf Nucleosome</td>
<td align="center">wgEncodeSydhNsome</td>
</tr>
<tr>
<td align="center">SYDH RNA-seq</td>
<td align="center">wgEncodeSydhRnaSeq</td>
</tr>
<tr>
<td align="center">SYDH TFBS</td>
<td align="center">wgEncodeSydhTfbs</td>
</tr>
<tr>
<td align="center">UChicago TFBS</td>
<td align="center">wgEncodeUchicagoTfbs</td>
</tr>
<tr>
<td align="center">UMass 5C</td>
<td align="center">wgEncodeUmassDekker5C</td>
</tr>
<tr>
<td align="center">UW Affy Exon</td>
<td align="center">wgEncodeUwAffyExonArray</td>
</tr>
<tr>
<td align="center">UW DNaseI DGF</td>
<td align="center">wgEncodeUwDgf</td>
</tr>
<tr>
<td align="center">UW DNaseI HS</td>
<td align="center">wgEncodeUwDnase</td>
</tr>
<tr>
<td align="center">UW Histone</td>
<td align="center">wgEncodeUwHistone</td>
</tr>
<tr>
<td align="center">UW Repli-seq</td>
<td align="center">wgEncodeUwRepliSeq</td>
</tr>
<tr>
<td align="center">UW CTCF Binding</td>
<td align="center">wgEncodeUwTfbs</td>
</tr>
<tr>
<td align="center">Human Meta Tracks</td>
<td align="center">HumanMetaTracks</td>
</tr>
</tbody>
</table>
<p>We will always use this method to insert tracks through the whole page.</p>
<h3>
<a aria-hidden="true" class="anchor" href="#search-for-a-track" id="user-content-search-for-a-track"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Search for a track</h3>
<p>There is a search box under the query box on the page, type some characters there to filter the listed tracks.</p>
<h2>
<a aria-hidden="true" class="anchor" href="#only-for-logged-in-users-1" id="user-content-only-for-logged-in-users-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Only for logged in users</h2>
<h3>
<a aria-hidden="true" class="anchor" href="#upload-private-tracks" id="user-content-upload-private-tracks"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Upload private tracks</h3>
<p>Bed, wig and bedGraph formats are accepted currently. So the file extenstion must be <code>.bed</code>, <code>.wig</code> or <code>.bedgraph</code>.<br/>
After logged in, click <strong>Manage Tracks</strong>, then click <code>Upload Track</code> button.
Please read the instruction carefully on that page.</p>
<h3>
<a aria-hidden="true" class="anchor" href="#use-private-tracks" id="user-content-use-private-tracks"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Use private tracks</h3>
<p>All the successfully uploaded tracks will be displayed on the left side of the homepage like other pre-loaded data, you can click them to insert the track name as you did on other tracks.</p>
<h3>
<a aria-hidden="true" class="anchor" href="#manage-private-tracks" id="user-content-manage-private-tracks"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Manage private tracks</h3>
<p>Still on <strong>Manage Tracks</strong> page, you can <strong>Delete</strong> or <strong>Rename</strong> the uploaded tracks.</p>
<h1>
<a aria-hidden="true" class="anchor" href="#stql" id="user-content-stql"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>STQL</h1>
<h2>
<a aria-hidden="true" class="anchor" href="#language-specification" id="user-content-language-specification"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Language specification</h2>
<p>STQL means Signal Track Query Language, it is SQL-like, please refer to this <a href="https://github.com/stql/start/blob/master/for-download/stql.pdf">Language Specification</a> for detail.</p>
<h2>
<a aria-hidden="true" class="anchor" href="#sample-queries" id="user-content-sample-queries"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Sample Queries</h2>
<p>Apart from copy the queries from this page, the sample queries are also provided in the <code>Other's Queries</code> from our site, by clicking the token of the query, you will be redirected to the submission page with the query already been input, just give this query a name, say <code>test</code>, then click <code>Submit</code>, the sample query starts running.</p>
<h3>
<a aria-hidden="true" class="anchor" href="#simple-queries" id="user-content-simple-queries"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Simple Queries</h3>
<h4>
<a aria-hidden="true" class="anchor" href="#1-compute-total-signal-at-each-bin-across-the-whole-genome" id="user-content-1-compute-total-signal-at-each-bin-across-the-whole-genome"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>1. Compute total signal at each bin across the whole genome</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description" id="user-content-technical-description"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<p>Demonstrate the projection of one track onto a virtual track</p>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description" id="user-content-biological-description"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Compute the average H3K4me1 signal for each 100bp bin across the whole genome, for identifying potential enhancer sites</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail" id="user-content-detail"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<p>We use <code>each</code> as the value model, and <code>vd_sum</code> as the value derivation method, according to our STQL language specification, we should write a query like this:</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span> <span class="pl-k">*</span>
<span class="pl-k">FROM</span>   (project T <span class="pl-k">on</span> generate bins with length <span class="pl-c1">100</span> with vd_sum using EACH MODEL) Ntint
<span class="pl-k">WHERE</span>  <span class="pl-c1">Ntint</span>.<span class="pl-c1">value</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>;</pre></div>
<p>Example of real data:</p>
<pre><code>T: `wgEncodeBroadHistone`.`wgEncodeBroadHistoneGm12878H3k04me1StdSigV2.bigWig`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#2-compute-average-signal-along-each-annotated-gene" id="user-content-2-compute-average-signal-along-each-annotated-gene"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>2. Compute average signal along each annotated gene</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-1" id="user-content-technical-description-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate the projection of one track onto another track</li>
<li>Demonstrate the use of sub-queries</li>
<li>Demonstrate performing selection by the where clause</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-1" id="user-content-biological-description-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Compute the expression level of each gene, defined as the average number of reads covering each position of the gene</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-1" id="user-content-detail-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<p>For this query, we have to use <code>vd_avg</code> as the value derivation method, and also use <code>each</code> as the value model.</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    (project T1 <span class="pl-k">on</span> (
        <span class="pl-k">SELECT  DISTINCT</span> chr, chrstart, chrend
        <span class="pl-k">FROM</span>    T2
        <span class="pl-k">WHERE</span>   feature <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span>) Ntint1
        with vd_avg using EACH MODEL) Ntint2
<span class="pl-k">WHERE</span>   <span class="pl-c1">Ntint2</span>.<span class="pl-c1">value</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeCshlLongRnaSeq`.`wgEncodeCshlLongRnaSeqGm12878CellTotalPlusRawSigRep1.bigWig`
T2: `wgEncodeGencode`.`gencode.v19.annotation.gtf`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#3-find-genomic-locations-commonly-covered-by-regions-in-two-signal-tracks" id="user-content-3-find-genomic-locations-commonly-covered-by-regions-in-two-signal-tracks"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>3. Find genomic locations commonly covered by regions in two signal tracks</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-2" id="user-content-technical-description-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<p>Demonstrate taking intersect-join of two tracks</p>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-2" id="user-content-biological-description-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify genomic regions within signal peaks of both H3K4me1 and H3K27ac, which are potential enhancer regions</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-2" id="user-content-detail-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<p>For this query, we should use our built-in <code>intersectjoin</code> operator.</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    T1 intersectjoin T2  ;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeSydhHistone`.`wgEncodeSydhHistoneHct116H3k04me1UcdPk.narrowPeak`
T2: `wgEncodeSydhHistone`.`wgEncodeSydhHistoneHct116H3k27acUcdPk.narrowPeak`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#4-exclude-signals-from-selected-genes" id="user-content-4-exclude-signals-from-selected-genes"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>4. Exclude signals from selected genes</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-3" id="user-content-technical-description-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate taking exclusive-join of two tracks</li>
<li>Demonstrate the use of non-standard attributes of the intervals</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-3" id="user-content-biological-description-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify expression outside annotated level-1 (experimentally validated) and level-2 (manually curated) Gencode protein-coding genes, some of which could come from non-coding RNAs</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-3" id="user-content-detail-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<p>For this query, we should mainly use our built-in <code>exclusivejoin</code> operator and other filtering conditions.</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    T1 exclusivejoin (
        <span class="pl-k">SELECT</span>  chr, chrstart, chrend
        <span class="pl-k">FROM</span>    T2
        <span class="pl-k">WHERE</span>   feature <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span> <span class="pl-k">AND</span>
                attributes <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%gene type "protein coding"%<span class="pl-pds">'</span></span> <span class="pl-k">AND</span>
                (attributes <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%level 1%<span class="pl-pds">'</span></span> <span class="pl-k">OR</span> attributes <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%level 2%<span class="pl-pds">'</span></span>)
        ) Ntint;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeCshlLongRnaSeq`.`wgEncodeCshlLongRnaSeqGm12878CellTotalPlusRawSigRep1.bigWig`
T2: `wgEncodeGencode`.`gencode.v19.annotation.gtf`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#5-form-contiguous-regions-with-strong-signal-values" id="user-content-5-form-contiguous-regions-with-strong-signal-values"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>5. Form contiguous regions with strong signal values</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-4" id="user-content-technical-description-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<p>Demonstrate coalescing intervals</p>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-4" id="user-content-biological-description-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify continuous regions with significant expression, which could correspond to exons</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-4" id="user-content-detail-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<p>For finding continuous regions, we should use our built-in <code>coalesce</code> operator.</p>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    coalesce (
        <span class="pl-k">SELECT</span>  chr, chrstart, chrend, value
        <span class="pl-k">FROM</span>    T
        <span class="pl-k">WHERE</span>   value <span class="pl-k">&gt;</span> <span class="pl-c1">2</span>) Ntint
        with vd_avg using EACH MODEL;</pre></div>
<p>Example of real data:</p>
<pre><code>T:  `wgEncodeCshlLongRnaSeq`.`wgEncodeCshlLongRnaSeqGm12878CellTotalPlusRawSigRep1.bigWig`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#6-identify-pairs-of-overlapping-regions-from-two-signal-tracks" id="user-content-6-identify-pairs-of-overlapping-regions-from-two-signal-tracks"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>6. Identify pairs of overlapping regions from two signal tracks</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-5" id="user-content-technical-description-5"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<p>Demonstrate the use of location comparison operators</p>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-5" id="user-content-biological-description-5"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify regions with binding peaks of different transcription factors, which can be used to identify functionally related factors</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-5" id="user-content-detail-5"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    T1 Tint1, T2 Tint2
<span class="pl-k">WHERE</span>   Tint1 overlaps with Tint2 ;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeSydhTfbs`.`wgEncodeSydhTfbsHelas3CfosStdPk.narrowPeak`
T2: `wgEncodeSydhTfbs`.`wgEncodeSydhTfbsHelas3CjunIggrabPk.narrowPeak`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#7-select-annotated-genes-longer-than-a-given-length" id="user-content-7-select-annotated-genes-longer-than-a-given-length"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>7. Select annotated genes longer than a given length</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-6" id="user-content-technical-description-6"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<p>Demonstrate the use of interval lengths</p>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-6" id="user-content-biological-description-6"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify all annotated genes longer than a certain length</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-6" id="user-content-detail-6"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    T Tint
<span class="pl-k">WHERE</span>   feature <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> length(Tint) <span class="pl-k">&gt;</span> <span class="pl-c1">1000</span>;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeGencode`.`gencode.v19.annotation.gtf`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#8-count-the-number-of-non-protein-coding-genes" id="user-content-8-count-the-number-of-non-protein-coding-genes"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>8. Count the number of non-protein-coding genes</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-7" id="user-content-technical-description-7"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<p>Demonstrate aggregating values</p>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-7" id="user-content-biological-description-7"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Counting the number of annotated non-protein-coding genes</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-7" id="user-content-detail-7"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-c1">COUNT</span>(<span class="pl-k">*</span>)
<span class="pl-k">FROM</span>    T
<span class="pl-k">WHERE</span>   feature <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> attributes NOT <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%gene_type "protein_coding"%<span class="pl-pds">'</span></span>;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeGencode`.`gencode.v19.annotation.gtf`
</code></pre>
<h3>
<a aria-hidden="true" class="anchor" href="#composite-queries" id="user-content-composite-queries"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Composite Queries</h3>
<h4>
<a aria-hidden="true" class="anchor" href="#1-count-the-number-of-signal-tracks-that-cover-each-genomic-location" id="user-content-1-count-the-number-of-signal-tracks-that-cover-each-genomic-location"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>1. Count the number of signal tracks that cover each genomic location</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-8" id="user-content-technical-description-8"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate selecting a list of tracks according to specified category and condition, taking union of multiple tracks as a temporary track</li>
<li>Demonstrate discretizing a set of overlapping intervals into disjoint intervals</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-8" id="user-content-biological-description-8"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Counting the number of transcription factors with a binding peak overlapping each genomic location. Neighboring locations with the same count are coalesced to reduce the length of the output list. This query can be used as one step in Identify high occupancy (HOT) regions.</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-8" id="user-content-detail-8"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<h6>
<a aria-hidden="true" class="anchor" href="#step-1" id="user-content-step-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 1</h6>
<div class="highlight highlight-source-sql"><pre>FOR TRACK T <span class="pl-k">IN</span> (category <span class="pl-k">=</span> <span class="pl-k">&lt;</span>track<span class="pl-k">-</span>category<span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span>track<span class="pl-k">-</span>selection<span class="pl-k">-</span>conditions<span class="pl-k">&gt;</span>)
<span class="pl-k">SELECT</span> chr, chrstart, chrend, value
<span class="pl-k">FROM</span>   T
COMBINED WITH <span class="pl-k">UNION ALL</span> <span class="pl-k">AS</span> Step1Results;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-2" id="user-content-step-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 2</h6>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span> <span class="pl-k">*</span>
<span class="pl-k">FROM</span>   discretize Step1Results with vd_sum using EACH MODEL;</pre></div>
<p>Example of real data:</p>
<pre><code>track-category: 'SYDH TFBS'
&lt;track-selection-conditions&gt;: cell = 'GM12878' and fname like '%Pk%'
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#2-identify-gene-distal-regulatory-regions" id="user-content-2-identify-gene-distal-regulatory-regions"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>2. Identify gene-distal regulatory regions</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-9" id="user-content-technical-description-9"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate taking result from a step as a temporary track used in subsequent steps</li>
<li>Demonstrate the use of interval distance</li>
<li>Demonstrate finding intervals in a track T1 that are far away from any interval in another track T2: first collect intervals in T1 that are not far away from one or more intervals in T2, then remove those collected intervals from T2</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-9" id="user-content-biological-description-9"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify binding-active regions that are not within promoter-proximal regulatory modules and are at least 10kb away from any high-confidence annotated genes. These regions are potentially gene-distal regulatory regions.</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-9" id="user-content-detail-9"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<h6>
<a aria-hidden="true" class="anchor" href="#step-1-1" id="user-content-step-1-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 1</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step1Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span> <span class="pl-c1">NtintA</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrend</span>
<span class="pl-k">FROM</span> (T1 exclusivejoin T2) NtintA;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-2-1" id="user-content-step-2-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 2</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step2Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span> <span class="pl-c1">NtintB</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrend</span>
<span class="pl-k">FROM</span>   Step1Results NtintB, T3 Tint3
<span class="pl-k">WHERE</span>  <span class="pl-c1">Tint3</span>.<span class="pl-c1">feature</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span> <span class="pl-k">AND</span>
       (<span class="pl-c1">Tint3</span>.<span class="pl-c1">attributes</span> <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%level 1%<span class="pl-pds">'</span></span> <span class="pl-k">OR</span> <span class="pl-c1">Tint3</span>.<span class="pl-c1">attributes</span> <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%level 2%<span class="pl-pds">'</span></span>) <span class="pl-k">AND</span>
       distance(NtintB, Tint3) <span class="pl-k">&lt;</span> <span class="pl-c1">10000</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-3" id="user-content-step-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 3</h6>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span> <span class="pl-k">*</span>
<span class="pl-k">FROM</span> Step1Results exclusivejoin Step2Results;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `HumanMetaTracks`.`BAR_Gm12878_merged.bed`
T2: `HumanMetaTracks`.`PRM_Gm12878_merged.bed`
T3: `wgEncodeGencode`.`gencode.v19.annotation.gtf`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#3-identify-intergenic-regions-with-active-transcription-factor-binding" id="user-content-3-identify-intergenic-regions-with-active-transcription-factor-binding"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>3. Identify intergenic regions with active transcription factor binding</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-10" id="user-content-technical-description-10"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate selecting a list of tracks according to specied category and condition, taking union of multiple tracks as a temporary track</li>
<li>Demonstrate taking result from a step as a temporary track used in subsequent steps</li>
<li>Demonstrate the use of interval distance</li>
<li>Demonstrate finding intervals in a track T1 that are far away from any interval in another track T2: first collect intervals in T1 that are not far away from one or more intervals in T2, then remove those collected intervals from T2</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-10" id="user-content-biological-description-10"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify transcription factor binding sites, in the form of 100bp bins, that are at least 10kb from any high-confidence annotated genes. This is another way to identify potential gene-distal regulatory regions when the binding-active regions and the promoter-proximal regulatory modules are not pre-defined and it is desirable to give 100bp bins as outputs for further analyses.</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-10" id="user-content-detail-10"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<h6>
<a aria-hidden="true" class="anchor" href="#step-1-2" id="user-content-step-1-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 1</h6>
<div class="highlight highlight-source-sql"><pre>FOR TRACK T <span class="pl-k">IN</span> (category <span class="pl-k">=</span> <span class="pl-k">&lt;</span>track<span class="pl-k">-</span>category<span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span>track<span class="pl-k">-</span>selection<span class="pl-k">-</span>conditions<span class="pl-k">&gt;</span>)
<span class="pl-k">SELECT</span> chr, chrstart, chrend, value
<span class="pl-k">FROM</span>   T
COMBINED WITH <span class="pl-k">UNION ALL</span> <span class="pl-k">AS</span> Step1Results;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-2-2" id="user-content-step-2-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 2</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step2Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span> <span class="pl-c1">NtintA</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrend</span>
<span class="pl-k">FROM</span>  (project Step1Results <span class="pl-k">on</span>
      generate bins with length <span class="pl-c1">100</span> with vd_sum using EACH MODEL) NtintA
<span class="pl-k">WHERE</span> <span class="pl-c1">NtintA</span>.<span class="pl-c1">value</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-3-1" id="user-content-step-3-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 3</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step3Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span> <span class="pl-c1">NtintB</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrend</span>
<span class="pl-k">FROM</span>   T1 Tint1, Step2Results NtintB
<span class="pl-k">WHERE</span>  <span class="pl-c1">Tint1</span>.<span class="pl-c1">feature</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> (<span class="pl-c1">Tint1</span>.<span class="pl-c1">attributes</span> <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%level 1%<span class="pl-pds">'</span></span> <span class="pl-k">OR</span> <span class="pl-c1">Tint1</span>.<span class="pl-c1">attributes</span> <span class="pl-k">like</span> <span class="pl-s"><span class="pl-pds">'</span>%level 2%<span class="pl-pds">'</span></span>) <span class="pl-k">AND</span>
      distance(Tint1, NtintB) <span class="pl-k">&lt;</span> <span class="pl-c1">10000</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-4" id="user-content-step-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 4</h6>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span> <span class="pl-k">*</span>
<span class="pl-k">FROM</span>   coalesce (
       <span class="pl-k">SELECT</span>     <span class="pl-c1">NtintC</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintC</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintC</span>.<span class="pl-c1">chrend</span>
       <span class="pl-k">FROM</span>       (Step2Results exclusivejoin Step3Results) NtintC ) NtintD;</pre></div>
<p>Example of real data:</p>
<pre><code>track-category: 'SYDH TFBS'
&lt;track-selection-conditions&gt;: cell = 'GM12878' and fname like '%Pk%'
T1: 'wgEncodeGencode'.'gencode.v19.annotation.gtf'
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#4-identify-extensive-regions-with-strong-h3k27ac-signals-as-potential-super-enhancers" id="user-content-4-identify-extensive-regions-with-strong-h3k27ac-signals-as-potential-super-enhancers"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>4. Identify extensive regions with strong H3K27ac signals as potential super enhancers</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-11" id="user-content-technical-description-11"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate selecting a list of tracks according to specified category and condition, performing some operation on each selected track, integrating the results as a temporary track</li>
<li>Demonstrate taking aggregation as interval field value</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-11" id="user-content-biological-description-11"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify regions, in the form of 2000bp bins, that overlap the binding peaks of at least 2 transcription factors. The average H3K27ac signal at each of the identified regions is then computed. Thresholding the resulting signals will give a list of regions with exceptionally strong H3K27ac signals, which could be potential super enhancers.</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-11" id="user-content-detail-11"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<h6>
<a aria-hidden="true" class="anchor" href="#step-1-3" id="user-content-step-1-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 1</h6>
<div class="highlight highlight-source-sql"><pre>FOR TRACK T <span class="pl-k">IN</span> (category <span class="pl-k">=</span> <span class="pl-k">&lt;</span>track<span class="pl-k">-</span>category<span class="pl-k">&gt;</span>, <span class="pl-k">&lt;</span>track<span class="pl-k">-</span>selection<span class="pl-k">-</span>conditions<span class="pl-k">&gt;</span>)
<span class="pl-k">SELECT</span>  <span class="pl-c1">NtintA</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrend</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">value</span>
<span class="pl-k">FROM</span>    (project T <span class="pl-k">on</span>
        generate bins with length <span class="pl-c1">2000</span> with vd_sum using EACH MODEL) NtintA
<span class="pl-k">WHERE</span>   <span class="pl-c1">NtintA</span>.<span class="pl-c1">value</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>
COMBINED WITH <span class="pl-k">UNION ALL</span> <span class="pl-k">AS</span> Step1Results;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-2-3" id="user-content-step-2-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 2</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step2Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>   chr, chrstart, chrend, <span class="pl-c1">COUNT</span>(<span class="pl-k">*</span>) <span class="pl-k">AS</span> value
<span class="pl-k">FROM</span>     Step1Results
<span class="pl-k">GROUP BY</span> chr, chrstart, chrend;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-3-2" id="user-content-step-3-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 3</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step3Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  chr, chrstart, chrend
<span class="pl-k">FROM</span>    Step2Results
<span class="pl-k">WHERE</span>   value <span class="pl-k">&gt;</span> <span class="pl-c1">2</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-4-1" id="user-content-step-4-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 4</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step4Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  <span class="pl-c1">NtintB</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrend</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">value</span>
<span class="pl-k">FROM</span>    (project T <span class="pl-k">on</span> Step3Results with vd_sum using EACH MODEL) NtintB;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-5" id="user-content-step-5"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 5</h6>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    Step4Results
<span class="pl-k">WHERE</span>   value <span class="pl-k">&gt;</span> <span class="pl-c1">3</span>;</pre></div>
<p>Example of real data:</p>
<pre><code>&lt;track-category&gt;: 'SYDH TFBS'
&lt;track-selection-conditions&gt;: cell = 'K562' and fname like '%Pk%'
T: `wgEncodeBroadHistone`.`wgEncodeBroadHistoneK562H3k27acStdSig.bigWig`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#5-identify-promoters-with-differential-protein-binding-after-adjusting-for-background-signals" id="user-content-5-identify-promoters-with-differential-protein-binding-after-adjusting-for-background-signals"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>5. Identify promoters with differential protein binding, after adjusting for background signals</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-12" id="user-content-technical-description-12"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate the use of the strand information</li>
<li>Demonstrate the use of mathematical operators, taking the results as interval fields, chrstart, chrend, value</li>
<li>Demonstrate the use of union-all</li>
<li>Demonstrate the use of the coincide-with operator</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-12" id="user-content-biological-description-12"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify genes with significant differential binding signals at their promoters in two different cell lines. In each cell line, the binding signals are computed by subtracting the ChIP-seq signals by the corresponding background signals obtained from experiments with only input DNA.</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-12" id="user-content-detail-12"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<h6>
<a aria-hidden="true" class="anchor" href="#step-1-4" id="user-content-step-1-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 1</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step1Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  chr, chrstart, chrend, strand
<span class="pl-k">FROM</span>    T1
<span class="pl-k">WHERE</span>   feature <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>gene<span class="pl-pds">'</span></span> <span class="pl-k">AND</span>
        attributes <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">'</span>%gene type "protein coding"%<span class="pl-pds">'</span></span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-2-4" id="user-content-step-2-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 2</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step2Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT  DISTINCT</span> <span class="pl-c1">NtintA</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintA</span>.<span class="pl-c1">chrend</span>
<span class="pl-k">FROM</span>    (<span class="pl-k">SELECT</span> chr, chrstart<span class="pl-k">-</span><span class="pl-c1">1500</span> <span class="pl-k">AS</span> chrstart, chrstart <span class="pl-k">+</span><span class="pl-c1">500</span> <span class="pl-k">AS</span> chrend
        <span class="pl-k">FROM</span>    Step1Results
        <span class="pl-k">WHERE</span>   strand <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>+<span class="pl-pds">'</span></span>
        <span class="pl-k">UNION ALL</span>
        <span class="pl-k">SELECT</span>  chr, chrend<span class="pl-k">-</span><span class="pl-c1">500</span> <span class="pl-k">AS</span> chrstart, chrend <span class="pl-k">+</span><span class="pl-c1">1500</span> <span class="pl-k">AS</span> chrend
        <span class="pl-k">FROM</span>    Step1Results
        <span class="pl-k">WHERE</span>   strand <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>) NtintA;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-3-3" id="user-content-step-3-3"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 3</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step3Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  <span class="pl-c1">NtintB</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">chrend</span>, <span class="pl-c1">NtintB</span>.<span class="pl-c1">value</span> <span class="pl-k">-</span> <span class="pl-c1">NtintC</span>.<span class="pl-c1">value</span> <span class="pl-k">as</span> value
<span class="pl-k">FROM</span>    (project T2 <span class="pl-k">on</span> Step2Results with vd_sum using EACH MODEL) NtintB,
        (project T3 <span class="pl-k">on</span> Step2Results with vd_sum using EACH MODEL) NtintC
<span class="pl-k">WHERE</span>   NtintB coincides with NtintC;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-4-2" id="user-content-step-4-2"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 4</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step4Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  <span class="pl-c1">NtintD</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintD</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintD</span>.<span class="pl-c1">chrend</span>, <span class="pl-c1">NtintD</span>.<span class="pl-c1">value</span> <span class="pl-k">-</span> <span class="pl-c1">NtintE</span>.<span class="pl-c1">value</span> <span class="pl-k">as</span> value
<span class="pl-k">FROM</span>    (project T4 <span class="pl-k">on</span> Step2Results with vd_sum using EACH MODEL) NtintD,
        (project T5 <span class="pl-k">on</span> Step2Results with vd_sum using EACH MODEL) NtintE
<span class="pl-k">WHERE</span>   NtintD coincides with NtintE;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-5-1" id="user-content-step-5-1"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 5</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step5Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  <span class="pl-c1">NtintF</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintF</span>.<span class="pl-c1">chrstart</span>, <span class="pl-c1">NtintF</span>.<span class="pl-c1">chrend</span>,
        <span class="pl-c1">NtintF</span>.<span class="pl-c1">value</span><span class="pl-k">/</span><span class="pl-c1">NtintG</span>.<span class="pl-c1">value</span> <span class="pl-k">as</span> value
<span class="pl-k">FROM</span>    Step3Results NtintF,
        (<span class="pl-k">SELECT</span> chr, chrstart, chrend, value
         <span class="pl-k">FROM</span>   Step4Results
         <span class="pl-k">WHERE</span>  value <span class="pl-k">!=</span> <span class="pl-c1">0</span>) NtintG
<span class="pl-k">WHERE</span>   NtintF coincides with NtintG;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-6" id="user-content-step-6"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 6</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step6Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  chr, chrstart, chrend
<span class="pl-k">FROM</span>    Step5Results
<span class="pl-k">WHERE</span>   value <span class="pl-k">&gt;</span> <span class="pl-c1">2</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-7" id="user-content-step-7"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 7</h6>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>     (<span class="pl-k">SELECT</span> <span class="pl-c1">NtintH</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintH</span>.<span class="pl-c1">chrstart</span>,
                 <span class="pl-c1">NtintH</span>.<span class="pl-c1">chrend</span>, <span class="pl-c1">NtintH</span>.<span class="pl-c1">strand</span>
          <span class="pl-k">FROM</span>   Step1Results NtintH,
                (<span class="pl-k">SELECT</span> chr, chrstart<span class="pl-k">+</span><span class="pl-c1">1500</span> <span class="pl-k">AS</span> chrstart,
                        chrstart<span class="pl-k">+</span><span class="pl-c1">1500</span> <span class="pl-k">AS</span> chrend
                 <span class="pl-k">FROM</span>   Step6Results) NtintI
          <span class="pl-k">WHERE</span>  <span class="pl-c1">NtintH</span>.<span class="pl-c1">strand</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>+<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> NtintI is prefix of NtintH
         <span class="pl-k">UNION ALL</span>
         (<span class="pl-k">SELECT</span> <span class="pl-c1">NtintJ</span>.<span class="pl-c1">chr</span>, <span class="pl-c1">NtintJ</span>.<span class="pl-c1">chrstart</span>,
                 <span class="pl-c1">NtintJ</span>.<span class="pl-c1">chrend</span>, <span class="pl-c1">NtintJ</span>.<span class="pl-c1">strand</span>
          <span class="pl-k">FROM</span>   Step1Results NtintJ,
                (<span class="pl-k">SELECT</span> chr, chrend<span class="pl-k">-</span><span class="pl-c1">1500</span> <span class="pl-k">AS</span> chrstart, chrend<span class="pl-k">-</span><span class="pl-c1">1500</span> <span class="pl-k">AS</span> chrend
                 <span class="pl-k">FROM</span>   Step6Results) NtintK
          <span class="pl-k">WHERE</span>  <span class="pl-c1">NtintJ</span>.<span class="pl-c1">strand</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> NtintK is suffix of NtintJ) NtintL;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeGencode`.`gencode.v19.annotation.gtf`
T2: `wgEncodeSydhTfbs`.`wgEncodeSydhTfbsGm12878JundIggrabSig.bigWig`
T3: `wgEncodeSydhTfbs`.`wgEncodeSydhTfbsGm12878InputStdSig.bigWig`
T4: `wgEncodeSydhTfbs`.`wgEncodeSydhTfbsK562JundIggrabSig.bigWig`
T5: `wgEncodeSydhTfbs`.`wgEncodeSydhTfbsK562InputStdSig.bigWig`
</code></pre>
<h4>
<a aria-hidden="true" class="anchor" href="#6-use-bi-directional-transcription-signals-to-detect-potential-enhancer-rnas" id="user-content-6-use-bi-directional-transcription-signals-to-detect-potential-enhancer-rnas"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>6. Use bi-directional transcription signals to detect potential enhancer RNAs</h4>
<h5>
<a aria-hidden="true" class="anchor" href="#technical-description-13" id="user-content-technical-description-13"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Technical Description</h5>
<ul>
<li>Demonstrate the use of mathematical operators</li>
<li>Demonstrate performing IntersectJoin on two tracks produced by sub-queries</li>
</ul>
<h5>
<a aria-hidden="true" class="anchor" href="#biological-description-13" id="user-content-biological-description-13"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Biological Description</h5>
<p>Identify genomic regions with bi-directional transcription at their flanking regions, which could be potential enhancers producing enhancer RNAs (eRNAs).</p>
<h5>
<a aria-hidden="true" class="anchor" href="#detail-13" id="user-content-detail-13"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Detail</h5>
<h6>
<a aria-hidden="true" class="anchor" href="#step-1-5" id="user-content-step-1-5"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 1</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step1Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  chr, chrstart <span class="pl-k">-</span> <span class="pl-c1">200</span> <span class="pl-k">AS</span> chrstart, chrend <span class="pl-k">-</span> <span class="pl-c1">200</span> <span class="pl-k">AS</span> chrend
<span class="pl-k">FROM</span>    T1
<span class="pl-k">WHERE</span>   value <span class="pl-k">&gt;</span> <span class="pl-c1">2</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-2-5" id="user-content-step-2-5"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 2</h6>
<div class="highlight highlight-source-sql"><pre>CREATE TRACK Step2Results <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span>  chr, chrstart <span class="pl-k">+</span> <span class="pl-c1">200</span> <span class="pl-k">AS</span> chrstart, chrend <span class="pl-k">+</span> <span class="pl-c1">200</span> <span class="pl-k">AS</span> chrend
<span class="pl-k">FROM</span>    T2
<span class="pl-k">WHERE</span>   value <span class="pl-k">&gt;</span> <span class="pl-c1">2</span>;</pre></div>
<h6>
<a aria-hidden="true" class="anchor" href="#step-3-4" id="user-content-step-3-4"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Step 3</h6>
<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span>  <span class="pl-k">*</span>
<span class="pl-k">FROM</span>    Step1Results intersectjoin Step2Results;</pre></div>
<p>Example of real data:</p>
<pre><code>T1: `wgEncodeCshlLongRnaSeq`.`wgEncodeCshlLongRnaSeqK562CellPapPlusRawSigRep1.bigWig`
T2: `wgEncodeCshlLongRnaSeq`.`wgEncodeCshlLongRnaSeqK562CellPapMinusRawSigRep1.bigWig`
</code></pre>
<h1>
<a aria-hidden="true" class="anchor" href="#comparison-with-other-tools" id="user-content-comparison-with-other-tools"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Comparison with other tools</h1>
<h2>
<a aria-hidden="true" class="anchor" href="#introduction" id="user-content-introduction"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Introduction</h2>
<p>In order to verify our system's correctness and compare the running time, we have also done these tasks by using other tools. Other tools include <a href="http://bedtools.readthedocs.org/en/latest/" rel="nofollow">bedtools</a>, python scripts written by us and <a href="https://usegalaxy.org/" rel="nofollow">online Galaxy system</a>.
However, there are some special tasks that can't be finished by other tools easily, for this case, we use <em><strong>NA</strong></em> to indicate it in the following table.</p>
<h2>
<a aria-hidden="true" class="anchor" href="#machine-configuration" id="user-content-machine-configuration"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Machine configuration</h2>
<p>For <strong>START</strong>, we deploy it in our Hadoop cluster and issue the queries from out website.<br/>
The cluster includes 17 machines, the hardware configuration for each machine is:
CPU: Intel(R) Core(TM) i7-3770 CPU @ 3.40GHz
Memory: 16GB
Disk I/O Speed: 139.11 MB/sec</p>
<p>For bedtools and python scripts, we use a single machine to to these tasks.
The hardware configuration is:
CPU: Intel(R) Core(TM) i7-3770 CPU @ 3.40GHz
Memory: 16GB
Disk I/O Speed: 156.89 MB/sec</p>
<p>For Galaxy system, We use the <a href="https://usegalaxy.org/" rel="nofollow">online website</a>.</p>
<h2>
<a aria-hidden="true" class="anchor" href="#the-comparison-table" id="user-content-the-comparison-table"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>The comparison table</h2>
<table>
<thead>
<tr>
<th align="center">Query</th>
<th align="center">START</th>
<th align="center">Bedtools</th>
<th align="center">Python</th>
<th align="center">Galaxy</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">SQ1</td>
<td align="center">207</td>
<td align="center">406.74</td>
<td align="center">1171.01</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">SQ2</td>
<td align="center">50</td>
<td align="center">134.59</td>
<td align="center">184.46</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">SQ3</td>
<td align="center">39</td>
<td align="center">0.04</td>
<td align="center">0.34</td>
<td align="center">23</td>
</tr>
<tr>
<td align="center">SQ4</td>
<td align="center">47</td>
<td align="center">21.29</td>
<td align="center">42.47</td>
<td align="center">408</td>
</tr>
<tr>
<td align="center">SQ5</td>
<td align="center">52</td>
<td align="center">6.66</td>
<td align="center">125.36</td>
<td align="center">270</td>
</tr>
<tr>
<td align="center">SQ6</td>
<td align="center">46</td>
<td align="center">0.04</td>
<td align="center">20.94</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">SQ7</td>
<td align="center">31</td>
<td align="center">5.70</td>
<td align="center">4.84</td>
<td align="center">44</td>
</tr>
<tr>
<td align="center">SQ8</td>
<td align="center">33</td>
<td align="center">2.09</td>
<td align="center">3.29</td>
<td align="center">30</td>
</tr>
<tr>
<td align="center">CQ1</td>
<td align="center">86</td>
<td align="center">NA</td>
<td align="center">36.40</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">CQ2</td>
<td align="center">300</td>
<td align="center">NA</td>
<td align="center">7.18</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">CQ3</td>
<td align="center">1340</td>
<td align="center">NA</td>
<td align="center">84.15</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">CQ4</td>
<td align="center">1680</td>
<td align="center">262.35</td>
<td align="center">420.45</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">CQ5</td>
<td align="center">360</td>
<td align="center">NA</td>
<td align="center">2887</td>
<td align="center">NA</td>
</tr>
<tr>
<td align="center">CQ6</td>
<td align="center">119</td>
<td align="center">206.52</td>
<td align="center">482.84</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>
<h2>
<a aria-hidden="true" class="anchor" href="#source-code-for-other-tools" id="user-content-source-code-for-other-tools"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Source code for other tools</h2>
<p>The source code for python scripts and bedtools commands can be downloaded <a href="https://github.com/stql/start/tree/master/for-download/comparison">here</a>.
For the workflow of online galaxy system, we can import it from <a href="https://usegalaxy.org/u/rushui/w/startworkflow" rel="nofollow">here</a>
For the HCC related file mentioned in our paper, please download it from [here]<br/>
(<a href="https://github.com/stql/start/raw/master/for-download/STQL_HCC_Diff_Methyl_files.zip">https://github.com/stql/start/raw/master/for-download/STQL_HCC_Diff_Methyl_files.zip</a>)</p>

        </div>

    </div>]