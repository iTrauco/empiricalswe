[<div class="wiki-body gollum-creole-content instapaper_body" id="wiki-body">
        <div class="markdown-body">
          <h1>
<a aria-hidden="true" class="anchor" href="#how-to-create-repeating-arcade-levels" id="user-content-how-to-create-repeating-arcade-levels"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>How to create repeating arcade levels</h1><h2>
<a aria-hidden="true" class="anchor" href="#basics" id="user-content-basics"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Basics</h2><p>First, create an empty level. Activate the editor by pressing ctrl-e at any point in the game, and then select the menu item `File-&gt;New...`.</p><p>Size the level according to how big you want an individual segment to be. You cannot have variably sized segments; they must all be the same size. However, because you have control over which segments lead to other segments, you can force multiple segments to always be in sequence, in effect allowing individual segments to be any multiple in size of this "base size".</p><p>Select Edit-&gt;Level Properties, and click the `horizontally segmented level` button. There is a corresponding button for vertically segmented levels. We do not have a means to do both at the same time.</p><p>Place an appropriate controller object anywhere outside the level bounds; this contains the code that tracks score, connects segments, and makes the level move around. Note that because this is a drop-in part, you could write vastly different repeating levels simply by replacing this component with a differently written one - all without a single change to the C++. As it is, you would want the `level_controller_neverending` for horizontal levels, and the `_vertical` suffixed one for vertical levels.</p><p>After the level was made segmented, two changes to the UI happened. First, level-size is now locked; when you drag a border, you instead add/remove nothing less than an entire segment. Second, the `Edit Level Segments` tool appears. The segment editor lets you select level segments, and indicate which other segments they are able to lead to. Clicking on a segment selects it and highlights it in yellow. Segments which can follow it can be added by subsequently clicking them; these are highlit in red. You can deselect a segment by clicking on the empty map.</p><h2>
<a aria-hidden="true" class="anchor" href="#strategy" id="user-content-strategy"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Strategy</h2><p>In a way that is very similar to the task of making repeating tile art, you need to have similar edges between each segment. For example, if in a vertical level, segment A has two solid tiles next to the upper-left edge of it's boundaries, then any segments that follow it need two solid tiles in the corresponding bottom-left segment. It's important to note that tile-patterns do not always tile nicely across segment edges, so be careful to give a little extra room; try to keep stuff that goes over an edge to just simple, straight-edges.</p><p>In vertical levels, you need to take extra care to make sure there are available jump targets between each segment. Current frogatto physics have it that the player can leap a great distance from side-to-side (half a screen or more), but can only jump 4 tiles upwards. A rule of thumb I work with is that each "channel" leading up to the next segment needs a walkable platform within 2 tiles of the edge.</p><h2>
<a aria-hidden="true" class="anchor" href="#common-issues" id="user-content-common-issues"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" fill-rule="evenodd"></path></svg></a>Common issues</h2><p>The game isn't be automatically started on the first segment; you have to place the player there. Behaviour when starting on a non-first-segment (you might want to do this for debugging purposes) leads to the NEXT segment loading, and the objects from both segments being present of the current segment.</p><p>Each section besides the first must have &gt;0 other sections lead into it, and lead out of it. The lack of this will create a dead end, which will look very buggy.</p><p>You must have enough valid possible future sections to fill a screen's height; two of the same section can't be onscreen at once. For example, you can't have a section the size of 2/3 the screen height, and then go 1,2,1,2,1,2 as your sequence; the presence of segment one still being in play below will prevent the game from creating another segment after player two. If you run into a bug where the supply of random sections stops, and the player is confronted with empty space above you, this issue is a likely culprit. To fix it, add more sections.</p><p>When areas go offscreen, their controlling objects are deleted. This is desireable for monsters, but is a major concern for level controllers. Level controllers will die when they go offscreen, removing their effects. One bug I had resulting from this was the deletion of a secret passage area, causing the player to be embedded in solid stone (which the engine will throw an assert about). This can possibly be solved by making the level controller match the player's position via an `on_process`, or by putting in overlapping controllers to maintain the effect even as previous ones are removed.</p>
        </div>

        <div class="wiki-footer gollum-markdown-content boxed-group" id="wiki-footer">
          <div class="boxed-group-inner wiki-auxiliary-content markdown-body">
            <p>More help can be found via IRC, <a href="irc://irc.freenode.net/#frogatto" rel="nofollow">#Frogatto</a> on freenode.net. This wiki is not a complete reference.</p>

          </div>
        </div>
    </div>]